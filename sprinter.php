<?php/** * Plugin Name: Sprinter * Plugin URI: http://www.sprinter.com * Description: Making WordPress even easier. * Version: 1.0.1 * Author: AEcreative * Author URI: http://aecreative.com * License: GPL2 **//****** INCLUDES *******//**** DO NOT EDIT *******/require_once('includes/lib/default-functions.php');require_once('includes/lib/settings-page.php');require_once('includes/lib/theme-customizer.php');/**** HOOKS & FUNCTIONS ****/add_action( 'widgets_init', 'sprinter_create_widgets' );add_action( 'init', 'sprinter_initialize_hooks' );add_filter( 'wp_nav_menu_items', 'sprinter_nav_menu_add_classes');add_filter( 'get_image_tag', 'sprinter_remove_width_and_height_attribute', 10 );add_filter( 'post_thumbnail_html', 'sprinter_remove_width_and_height_attribute', 10 );add_filter( 'image_send_to_editor', 'sprinter_remove_width_and_height_attribute', 10 );/** Default settings **/add_theme_support('post-thumbnails');remove_action('wp_head', 'wp_generator');function sprinter_create_widgets(){	//Get all sidebars, registered as an option.	$all_sidebars = get_option('registered_sidebars');	//If there is any sidebars in use.	if($all_sidebars){		//loop through all sidebar names and register.		foreach($all_sidebars as $sidebar){			register_sidebar(				array (					'name'          => $sidebar,					'id'            => $sidebar,					'before_widget' => '',					'after_widget'  => '',					'before_title'  => '<h4>',					'after_title'   => '</h4>'				)			);		}	}}// Add first and last classes to wp_nav_menu.function sprinter_nav_menu_add_classes( $items ){	$pos = strrpos($items, 'class="menu-item', -1);	$items = substr_replace($items, 'menu-item-last ', $pos+7, 0);	$pos = strpos($items, 'class="menu-item');	$items = substr_replace($items, 'menu-item-first ', $pos+7, 0);	return $items;}function sprinter_remove_width_and_height_attribute( $html ) {	return preg_replace( '/(height|width)="\d*"\s/', "", $html );}function sprinter_initialize_hooks(){	sprinter_register_menus();}function sprinter_register_menus(){	$registered_menus = get_option('registered_menus');	if($registered_menus){		foreach($registered_menus as $name)			register_nav_menu($name, $name);	}}?>